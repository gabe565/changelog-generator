# Changelog Generator
[![GitHub release (latest by date)](https://img.shields.io/github/v/release/gabe565/changelog-generator)](https://github.com/gabe565/changelog-generator/releases)
[![Build](https://github.com/gabe565/changelog-generator/actions/workflows/build.yaml/badge.svg)](https://github.com/gabe565/changelog-generator/actions/workflows/build.yaml)
[![Go Report Card](https://goreportcard.com/badge/github.com/gabe565/changelog-generator)](https://goreportcard.com/report/github.com/gabe565/changelog-generator)
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=gabe565_changelog-generator&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=gabe565_changelog-generator)

A configurable commit-based changelog generator. It finds commits since the previous release, filters them, then groups them.

Generated changelogs look similar to the changelogs generated by [GoReleaser](https://goreleaser.com/customization/changelog/), making this action a great fit for projects where another build tool is used.

## Usage

### GitHub Action

#### Inputs

| Name           | Description                                     | Default                     |
|----------------|-------------------------------------------------|-----------------------------|
| `output`       | Generated changelog path.                       | ` `                         |
| `path`         | Path to the local git repository                | `"."`                       |
| `config`       | Path to the config file.                        | `.changelog-generator.yaml` |
| `token`        | GitHub token used to fetch release assets.      | `${{ github.token }}`       |
| `install-only` | Installs changelog-generator without running it | `"false"`                   |

#### Outputs

| Name        | Description                       |
|-------------|-----------------------------------|
| `changelog` | The generated changelog markdown. |


#### Example
```yaml
name: Release

on:
  push:
    tags:
      - "v*.*.*"

jobs:
  release:
    name: Release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - name: Generate Changelog
        uses: gabe565/changelog-generator-action@v1
        id: changelog
      - name: Release
        uses: softprops/action-gh-release@v2
        with:
          body: ${{ steps.changelog.outputs.changelog }}
```

## Configuration
Changelog Generator can be configured by committing a file to one of the paths listed below. See the [config example](config_example.yaml) for available configuration documentation.

#### Default Paths
- `.changelog-generator.yaml`
- `.github/changelog-generator.yaml`
- `.goreleaser.yaml`.

## Installation

Changelog Generator can also be installed for local generation and previews.

### APT (Ubuntu, Debian)

<details>
  <summary>Click to expand</summary>

1. If you don't have it already, install the `ca-certificates` package
   ```shell
   sudo apt install ca-certificates
   ```

2. Add gabe565 apt repository
   ```
   echo 'deb [trusted=yes] https://apt.gabe565.com /' | sudo tee /etc/apt/sources.list.d/gabe565.list
   ```

3. Update apt repositories
   ```shell
   sudo apt update
   ```

4. Install changelog-generator
   ```shell
   sudo apt install changelog-generator
   ```
</details>

### RPM (CentOS, RHEL)

<details>
  <summary>Click to expand</summary>

1. If you don't have it already, install the `ca-certificates` package
   ```shell
   sudo dnf install ca-certificates
   ```

2. Add gabe565 rpm repository to `/etc/yum.repos.d/gabe565.repo`
   ```ini
   [gabe565]
   name=gabe565
   baseurl=https://rpm.gabe565.com
   enabled=1
   gpgcheck=0
   ```

3. Install changelog-generator
   ```shell
   sudo dnf install changelog-generator
   ```
</details>

### AUR (Arch Linux)

<details>
  <summary>Click to expand</summary>

Install [changelog-generator-bin](https://aur.archlinux.org/packages/changelog-generator-bin) with your [AUR helper](https://wiki.archlinux.org/index.php/AUR_helpers) of choice.
</details>

### Homebrew (macOS, Linux)

<details>
  <summary>Click to expand</summary>

Install changelog-generator from [gabe565/homebrew-tap](https://github.com/gabe565/homebrew-tap):
```shell
brew install gabe565/tap/changelog-generator
```
</details>

### Manual Installation

<details>
  <summary>Click to expand</summary>

Download and run the [latest release binary](https://github.com/gabe565/changelog-generator/releases/latest) for your system and architecture.
</details>
